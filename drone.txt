from djitellopy import tello
from time import sleep

drone = tello.Tello()

drone.connect()

keepRecording = true
# Start video stream
drone.streamon()

# Get video frames
frame_read = drone.get_frame_read()

while True:
    frame = frame_read.frame
    cv2.imshow("Tello Camera", frame)

    if cv2.waitKey(1) & 0xFF == ord('q'):
        break

# Clean up
drone.streamoff()
cv2.destroyAllWindows()

sleep(1)
drone.takeoff()
sleep(1)
drone.move_up(155)
sleep(2)
drone.move_forward(352.5)
sleep(2)
drone.land()
sleep(2)
drone.end()